{
  "displayName": "Migration testimage newformat using environment value",
  "herdKey": "test-migration-image-newformat",
  "metadata": {
    "buildDate": "2019-11-04T09:46:51+00:00",
    "buildHostName": "Gulaugurs-MacBook-Pro.local",
    "dockerImageTag": "test-migration-image-newformat:latest",
    "dockerImageGithash": "test-migration-image-newformat:0.0.66-a70d890",
    "gitHash": "a70d890",
    "gitBranch": "master",
    "gitUrl": "git@github.com:ShepherdOrg/npm-packages.git",
    "gitCommit": "96104655f7c261f7ba00fad9b83c89a955dd7508",
    "lastCommits": " Sat, 2 Nov 2019 14:39:07 +0000 by Gu√∞laugur S. Egilsson. --- Finish support for environment object in shepherd.json for deployers \n",
    "semanticVersion": "0.0.66",
    "displayName": "Migration testimage newformat using environment value",
    "environment": [
      {
        "name": "MIGRATION_ENV_VARIABLE_ONE",
        "value": "{{ GLOBAL_MIGRATION_ENV_VARIABLE_ONE }}"
      },
      {
        "name": "MIGRATION_ENV_VARIABLE_TWO",
        "value": "fixedValue",
        "secret": true
      }
    ],
    "deployCommand": "ls",
    "rollbackCommand": "cat",
    "hyperlinks": [
      {
        "title": "Sources for this",
        "url": "https://github.com/shepherdorg/npm-packages/packages/deployer/e2etest/testimages/test-migration-image-newformat"
      }
    ],
    "deploymentType": "deployer"
  },
  "herdSpec": {
    "image": "test-migration-image-newformat",
    "imagetag": "0.0.66",
    "description": "New metadata format, testing env variable expansion in herd execution",
    "key": "test-migration-image-newformat"
  },
  "dockerParameters": [
    "-i",
    "--rm",
    "-e",
    "ENV=testit",
    "-e",
    "MIGRATION_ENV_VARIABLE_ONE=justAValue",
    "-e",
    "MIGRATION_ENV_VARIABLE_TWO=fixedValue",
    "test-migration-image-newformat:0.0.66",
    "ls"
  ],
  "forTestParameters": [
    "-i",
    "--rm",
    "-e",
    "ENV=testit",
    "-e",
    "MIGRATION_ENV_VARIABLE_ONE=justAValue",
    "-e",
    "MIGRATION_ENV_VARIABLE_TWO=fixedValue",
    "test-migration-image-newformat:[image_version]",
    "ls"
  ],
  "imageWithoutTag": "test-migration-image-newformat",
  "origin": "test-migration-image-newformat",
  "type": "deployer",
  "operation": "run",
  "command": "ls",
  "identifier": "test-migration-image-newformat",
  "env": "integratedtestenv",
  "descriptor": "-i --rm -e ENV=testit -e MIGRATION_ENV_VARIABLE_ONE=justAValue -e MIGRATION_ENV_VARIABLE_TWO=fixedValue test-migration-image-newformat:0.0.66",
  "state": {
    "key": "integratedtestenv-test-migration-image-newformat",
    "new": true,
    "modified": true,
    "operation": "run",
    "signature": "690969e24851808daa52ff88bff6031f",
    "env": "integratedtestenv"
  }
}